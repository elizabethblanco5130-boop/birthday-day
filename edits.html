<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Starcourt Edits</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

  <style>
    :root{
      --pink:#ff3bd4;
      --cyan:#18f6ff;
      --lime:#b8ff2e;
      --purple:#7b2cff;
      --glass: rgba(0,0,0,.45);
      --line: rgba(255,255,255,.12);
    }

    *{ box-sizing:border-box; }
    html,body{ height:100%; }
    body{
      margin:0;
      background:#000;
      color:#fff;
      overflow:hidden;
      font-family: system-ui, -apple-system, Arial;
    }

    /* ====== INTRO (black screen + cake) ====== */
    .intro{
      position:fixed; inset:0;
      display:grid;
      place-items:center;
      background:#000;
      z-index:999;
    }
    .introInner{
      width:min(92vw, 520px);
      text-align:center;
      padding:18px 16px;
    }
    .introTitle{
      font-family:'Press Start 2P', monospace;
      letter-spacing:.06em;
      font-size:12px;
      opacity:.9;
      margin:0 0 16px;
    }
    .cakeBtn{
      width:120px; height:120px;
      border-radius:28px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.25);
      display:grid;
      place-items:center;
      margin: 0 auto 16px;
      cursor:pointer;
      user-select:none;
      box-shadow:
        0 0 0 1px rgba(255,0,0,.10) inset,
        0 0 40px rgba(255,0,180,.10);
      position:relative;
      overflow:hidden;
    }
    .cakeBtn::before{
      content:"";
      position:absolute; inset:-40%;
      background:
        radial-gradient(circle at 30% 30%, rgba(255,59,212,.25), rgba(0,0,0,0) 55%),
        radial-gradient(circle at 70% 70%, rgba(24,246,255,.18), rgba(0,0,0,0) 60%);
      filter: blur(10px);
      animation: swirl 6s linear infinite;
      opacity:.9;
      pointer-events:none;
    }
    @keyframes swirl{
      0%{ transform: rotate(0deg); }
      100%{ transform: rotate(360deg); }
    }
    .cakeIcon{
      font-size:44px;
      filter: drop-shadow(0 0 18px rgba(255,59,212,.25));
      z-index:2;
    }
    .introHint{
      font-family:'Press Start 2P', monospace;
      font-size:10px;
      line-height:1.7;
      opacity:.75;
      margin:0;
    }
    .introClose{
      margin-top:14px;
      width:min(320px, 100%);
      padding:12px 14px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.35);
      color:#fff;
      font-family:'Press Start 2P', monospace;
      font-size:10px;
      letter-spacing:.06em;
      text-transform:uppercase;
      cursor:pointer;
      display:none;
    }
    .introClose.show{ display:inline-block; }

    /* ====== STARCOURT WORLD ====== */
    .world{
      position:fixed; inset:0;
      display:none;
      z-index:1;
    }
    .world.show{ display:block; }

    /* neon gradient background */
    .bg{
      position:fixed; inset:0;
      background:
        radial-gradient(circle at 20% 20%, rgba(24,246,255,.25), rgba(0,0,0,0) 45%),
        radial-gradient(circle at 80% 35%, rgba(255,59,212,.22), rgba(0,0,0,0) 50%),
        radial-gradient(circle at 45% 80%, rgba(184,255,46,.14), rgba(0,0,0,0) 55%),
        linear-gradient(180deg, rgba(10,0,25,1), rgba(0,0,0,1));
      z-index:0;
    }

    /* scanlines + glow */
    .scanlines{
      position:fixed; inset:0;
      background: repeating-linear-gradient(
        to bottom,
        rgba(255,255,255,.04),
        rgba(255,255,255,.04) 1px,
        rgba(0,0,0,0) 3px,
        rgba(0,0,0,0) 7px
      );
      opacity:.14;
      mix-blend-mode: overlay;
      pointer-events:none;
      z-index:2;
    }
    .vignette{
      position:fixed; inset:0;
      background: radial-gradient(ellipse at center, rgba(0,0,0,.05), rgba(0,0,0,.75));
      pointer-events:none;
      z-index:3;
    }

    /* floating neon dust */
    canvas#fx{
      position:fixed; inset:0;
      pointer-events:none;
      z-index:4;
      opacity:.9;
    }

    /* top bar */
    .top{
      position:fixed;
      top:14px; left:14px; right:14px;
      z-index:10;
      display:flex;
      gap:10px;
      justify-content:space-between;
      align-items:center;
    }
    .pill{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.30);
      backdrop-filter: blur(10px);
      border-radius:18px;
      padding:10px 12px;
      font-family:'Press Start 2P', monospace;
      font-size:10px;
      letter-spacing:.06em;
      text-transform:uppercase;
      box-shadow: 0 0 26px rgba(255,59,212,.10);
    }
    .pillTitle{
      border-color: rgba(255,59,212,.35);
      box-shadow: 0 0 0 2px rgba(255,59,212,.10), 0 0 36px rgba(24,246,255,.12);
    }

    .btn{
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.30);
      backdrop-filter: blur(10px);
      border-radius:18px;
      padding:10px 12px;
      color:#fff;
      text-decoration:none;
      font-family:'Press Start 2P', monospace;
      font-size:10px;
      letter-spacing:.06em;
      text-transform:uppercase;
      cursor:pointer;
    }
    .btn:hover{ filter: brightness(1.07); }

    /* center panel */
    .panel{
      position:fixed;
      left:50%;
      top:54%;
      transform: translate(-50%,-50%);
      width:min(92vw, 900px);
      z-index:9;
      border-radius:22px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.35);
      backdrop-filter: blur(12px);
      box-shadow:
        0 0 0 2px rgba(255,59,212,.08),
        0 0 50px rgba(24,246,255,.10);
      overflow:hidden;
    }

    .banner{
      padding:16px 16px 12px;
      border-bottom:1px solid rgba(255,255,255,.10);
    }
    .banner h1{
      margin:0;
      font-family:'Press Start 2P', monospace;
      font-size:14px;
      letter-spacing:.08em;
      text-transform:uppercase;
      text-shadow: 2px 0 rgba(24,246,255,.18), -2px 0 rgba(255,59,212,.18);
    }
    .banner p{
      margin:10px 0 0;
      opacity:.82;
      line-height:1.6;
      font-size:13px;
    }

    /* collage grid */
    .grid{
      padding:14px;
      display:grid;
      gap:12px;
      grid-template-columns: repeat(2, 1fr);
    }
    .tile{
      position:relative;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.25);
      overflow:hidden;
      min-height:140px;
      cursor:pointer;
      user-select:none;
      transform: rotate(var(--rot, -1deg));
      transition: transform .16s ease, filter .25s ease;
      box-shadow: 0 0 26px rgba(255,59,212,.08);
    }
    .tile:hover{ transform: rotate(0deg) translateY(-1px); }
    .tile:active{ transform: rotate(0deg) translateY(1px); }

    .tile::before{
      content:"";
      position:absolute; inset:-2px;
      background:
        linear-gradient(90deg, rgba(255,59,212,.14), rgba(24,246,255,.10), rgba(184,255,46,.10));
      opacity:.35;
      filter: blur(12px);
      pointer-events:none;
    }

    .tile img{
      position:absolute; inset:0;
      width:100%; height:100%;
      object-fit:cover;
      opacity:.95;
      filter: saturate(1.06) contrast(1.06);
    }
    .placeholder{
      position:absolute; inset:0;
      display:grid;
      place-items:center;
      font-family:'Press Start 2P', monospace;
      font-size:10px;
      letter-spacing:.06em;
      opacity:.65;
      text-transform:uppercase;
    }
    .tag{
      position:absolute;
      left:10px; bottom:10px;
      padding:8px 10px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.35);
      backdrop-filter: blur(8px);
      font-family:'Press Start 2P', monospace;
      font-size:9px;
      letter-spacing:.06em;
      text-transform:uppercase;
    }

    /* modal viewer */
    .modal{
      position:fixed; inset:0;
      display:none;
      z-index:50;
    }
    .modal.show{ display:block; }
    .modal .backdrop{
      position:absolute; inset:0;
      background: rgba(0,0,0,.70);
      backdrop-filter: blur(6px);
    }
    .modal .box{
      position:absolute;
      left:50%; top:50%;
      transform: translate(-50%,-50%);
      width:min(92vw, 900px);
      border-radius:22px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.55);
      box-shadow: 0 0 40px rgba(255,59,212,.16);
      overflow:hidden;
    }
    .modal img{
      width:100%;
      height:auto;
      display:block;
    }
    .modal .close{
      position:absolute;
      right:14px; top:14px;
      padding:10px 12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      background: rgba(0,0,0,.35);
      color:#fff;
      font-family:'Press Start 2P', monospace;
      font-size:10px;
      cursor:pointer;
    }

    /* responsive */
    @media (min-width: 900px){
      .grid{ grid-template-columns: repeat(3, 1fr); }
      .banner h1{ font-size:16px; }
    }
  </style>
</head>

<body>
  <!-- INTRO -->
  <section class="intro" id="intro">
    <div class="introInner">
      <p class="introTitle">esto es todo</p>

      <div class="cakeBtn" id="cakeBtn" aria-label="Pastel">
        <div class="cakeIcon">üéÇ</div>
      </div>

      <p class="introHint">t√≥calo otra vez para ‚Äúabrir‚Äù</p>
      <button class="introClose" id="openBtn" type="button">CERRAR Y ENTRAR</button>
    </div>
  </section>

  <!-- STARCOURT WORLD -->
  <section class="world" id="world">
    <div class="bg"></div>
    <div class="scanlines"></div>
    <div class="vignette"></div>
    <canvas id="fx"></canvas>

    <header class="top">
      <a class="btn" href="index.html?v=1000">‚Üê VOLVER</a>
      <div class="pill pillTitle">STARCOURT ‚Ä¢ EDITS</div>
      <a class="btn" href="hub.html?v=1000">HUB ‚Üí</a>
    </header>

    <main class="panel">
      <div class="banner">
        <h1>Starcourt Collage</h1>
        <p>
          Luces fr√≠as. Ne√≥n. Az√∫car. Y recuerdos como si fueran anuncios de un mall que nunca cierra.
          <br><br>
          Toca cualquier foto para abrirla. (Luego t√∫ cambias las im√°genes.)
        </p>
      </div>

      <div class="grid" id="grid">
        <!-- Cambia src por tus fotos cuando quieras.
             Si no tienes foto todav√≠a, deja el placeholder. -->
        <div class="tile" style="--rot:-2deg" data-img="">
          <div class="placeholder">foto 01</div>
          <div class="tag">neon</div>
        </div>

        <div class="tile" style="--rot:2deg" data-img="">
          <div class="placeholder">foto 02</div>
          <div class="tag">arcade</div>
        </div>

        <div class="tile" style="--rot:-1deg" data-img="">
          <div class="placeholder">foto 03</div>
          <div class="tag">mall</div>
        </div>

        <div class="tile" style="--rot:1deg" data-img="">
          <div class="placeholder">foto 04</div>
          <div class="tag">summer</div>
        </div>

        <div class="tile" style="--rot:-3deg" data-img="">
          <div class="placeholder">foto 05</div>
          <div class="tag">glow</div>
        </div>

        <div class="tile" style="--rot:3deg" data-img="">
          <div class="placeholder">foto 06</div>
          <div class="tag">starcourt</div>
        </div>
      </div>
    </main>

    <!-- Modal viewer -->
    <section class="modal" id="modal">
      <div class="backdrop"></div>
      <div class="box">
        <button class="close" id="closeModal" type="button">CERRAR</button>
        <img id="modalImg" alt="Preview">
      </div>
    </section>

    <!-- Audio: cambia el nombre por tu archivo real cuando lo subas -->
    <audio id="editsAudio" preload="auto">
      <source src="edits-audio.mp3" type="audio/mpeg">
    </audio>
  </section>

  <script>
    // ===== INTRO flow =====
    const intro = document.getElementById("intro");
    const cakeBtn = document.getElementById("cakeBtn");
    const openBtn = document.getElementById("openBtn");
    const world = document.getElementById("world");
    const editsAudio = document.getElementById("editsAudio");

    let taps = 0;
    let audioUnlocked = false;

    function unlockAudio(){
      audioUnlocked = true;
      window.removeEventListener("pointerdown", unlockAudio);
      window.removeEventListener("touchstart", unlockAudio);
      window.removeEventListener("click", unlockAudio);
    }
    window.addEventListener("pointerdown", unlockAudio, {once:true});
    window.addEventListener("touchstart", unlockAudio, {once:true});
    window.addEventListener("click", unlockAudio, {once:true});

    cakeBtn.addEventListener("click", ()=>{
      taps++;

      // 1er toque: solo ‚Äúok‚Äù
      if(taps === 1){
        cakeBtn.style.filter = "brightness(1.15)";
        setTimeout(()=>cakeBtn.style.filter="none", 250);
        return;
      }

      // 2do toque: reproduce audio (si existe) y muestra bot√≥n CERRAR
      if(taps === 2){
        if(audioUnlocked && editsAudio){
          editsAudio.currentTime = 0;
          editsAudio.volume = 0.7;
          editsAudio.play().catch(()=>{});
        }
        openBtn.classList.add("show");
      }
    });

    openBtn.addEventListener("click", ()=>{
      intro.style.display = "none";
      world.classList.add("show");
    });

    // ===== Collage modal viewer =====
    const modal = document.getElementById("modal");
    const modalImg = document.getElementById("modalImg");
    const closeModal = document.getElementById("closeModal");

    function openModal(src){
      if(!src) return;
      modalImg.src = src;
      modal.classList.add("show");
    }
    function close(){
      modal.classList.remove("show");
    }
    closeModal.addEventListener("click", close);
    modal.querySelector(".backdrop").addEventListener("click", close);

    // Put images in tiles (if you later add src)
    document.querySelectorAll(".tile").forEach(tile=>{
      const src = tile.dataset.img?.trim();
      if(src){
        const img = document.createElement("img");
        img.src = src;
        tile.appendChild(img);
        tile.querySelector(".placeholder")?.remove();
      }
      tile.addEventListener("click", ()=>{
        // little ‚Äúneon bounce‚Äù
        tile.style.transform = "rotate(0deg) scale(.99)";
        setTimeout(()=>tile.style.transform="", 120);
        openModal(src);
      });
    });

    // ===== Neon particles =====
    const canvas = document.getElementById("fx");
    const ctx = canvas.getContext("2d");
    let W=0,H=0,dpr=1;

    function resize(){
      dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      W = Math.floor(window.innerWidth);
      H = Math.floor(window.innerHeight);
      canvas.width = Math.floor(W*dpr);
      canvas.height = Math.floor(H*dpr);
      canvas.style.width = W+"px";
      canvas.style.height = H+"px";
      ctx.setTransform(dpr,0,0,dpr,0,0);
    }
    window.addEventListener("resize", resize);
    resize();

    const dots = [];
    const rand = (a,b)=> a + Math.random()*(b-a);
    const colors = [
      "rgba(255,59,212,0.18)",
      "rgba(24,246,255,0.18)",
      "rgba(184,255,46,0.16)"
    ];
    for(let i=0;i<120;i++){
      dots.push({
        x: rand(0,W), y: rand(0,H),
        r: rand(0.8, 2.6),
        vx: rand(-0.25, 0.25),
        vy: rand(-0.15, 0.25),
        c: colors[Math.floor(Math.random()*colors.length)]
      });
    }

    function tick(){
      ctx.clearRect(0,0,W,H);
      for(const p of dots){
        p.x += p.vx; p.y += p.vy;
        if(p.x < -10) p.x = W+10;
        if(p.x > W+10) p.x = -10;
        if(p.y < -10) p.y = H+10;
        if(p.y > H+10) p.y = -10;

        ctx.beginPath();
        ctx.fillStyle = p.c;
        ctx.arc(p.x, p.y, p.r, 0, Math.PI*2);
        ctx.fill();
      }
      requestAnimationFrame(tick);
    }
    tick();
  </script>
</body>
</html>
