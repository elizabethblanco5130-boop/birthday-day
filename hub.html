<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Hawkins Hub</title>

  <link href="https://fonts.cdnfonts.com/css/benguiat" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css?v=9999">

  <style>
    /* ===============================
       GIFs flotantes (NO bloquean clicks)
    =============================== */
    .gif-layer{
      position:fixed;
      inset:0;
      z-index:6;
      pointer-events:none;
      overflow:hidden;
    }
    .hub-gif{
      position:absolute;
      left: var(--x);
      top: var(--y);
      width: var(--s);
      height:auto;
      opacity:.92;
      transform: translate(-50%,-50%) rotate(var(--r));
      filter: drop-shadow(0 0 12px rgba(255,0,0,.22));
      animation: hubFloat var(--t) ease-in-out infinite;
      will-change: transform;
    }
    @keyframes hubFloat{
      0%,100%{ transform: translate(-50%,-50%) rotate(var(--r)) translateY(0); }
      50%{ transform: translate(-50%,-50%) rotate(var(--r)) translateY(-16px); }
    }

    /* Mostrar GIFs SOLO en NORMAL */
    body.upside .gif-layer,
    body.will .gif-layer{
      display:none !important;
    }

    /* ===============================
       ICONOS GRANDES + LETRA STRANGER
    =============================== */
    .hub-icon img{
      width:130px;
      height:130px;
      object-fit:cover;
      border-radius:18px;
      display:block;
      box-shadow:0 0 28px rgba(255,0,0,.22);
    }
    .hub-icon span{
      font-family:'Benguiat', serif;
      letter-spacing:.16em;
      text-transform:uppercase;
      font-size:18px;
      margin-top:10px;
      text-shadow:
        0 0 18px rgba(255,0,0,.20),
        2px 0 rgba(0,255,255,.12),
        -2px 0 rgba(255,0,0,.12);
    }
    @media(min-width:900px){
      .hub-icon img{ width:170px; height:170px; }
      .hub-icon span{ font-size:20px; }
    }

    /* Arcade y Archivos SOLO en NORMAL */
    body.upside .only-normal,
    body.will .only-normal{
      display:none !important;
    }

    /* ===============================
       Colocación PRO (centrado + responsive)
       (no rompe tu style.css, solo lo ajusta)
    =============================== */
    .hub-stage{
      position:relative;
    }

    /* Hacemos un “cluster” centrado para los 2 iconos */
    .hub-cluster{
      position:absolute;
      left:50%;
      top:52%;
      transform:translate(-50%,-50%);
      display:flex;
      gap:22px;
      align-items:center;
      justify-content:center;
      z-index:12; /* encima de gifs, debajo de topbar */
      width:min(860px, 92vw);
      pointer-events:none; /* el contenedor no bloquea */
    }
    .hub-cluster .hub-icon{
      pointer-events:auto; /* pero los botones sí clickean */
    }

    /* En teléfonos los apila bonito */
    @media (max-width:720px){
      .hub-cluster{
        flex-direction:column;
        gap:18px;
        top:58%;
      }
    }

    /* ===============================
       MENSAJE UPSIDE DOWN
    =============================== */
    .upside-note{
      position:fixed;
      left:50%;
      top:55%;
      transform:translate(-50%,-50%);
      width:min(560px,90vw);
      z-index:30;
      display:none;
      padding:16px;
      border-radius:18px;
      border:1px solid rgba(255,0,0,.35);
      background:rgba(0,0,0,.38);
      backdrop-filter:blur(10px);
      text-align:center;
      pointer-events:none;
      font-family:'Press Start 2P', monospace;
      font-size:10px;
      letter-spacing:.08em;
      line-height:1.8;
      color:rgba(255,255,255,.88);
      text-transform:uppercase;
      box-shadow:0 0 32px rgba(255,0,0,.18);
    }
    body.upside .upside-note{ display:block; }

    .upside-note .big{
      font-family:'Benguiat', serif;
      font-size:20px;
      letter-spacing:.18em;
      margin-bottom:10px;
      text-shadow:0 0 18px rgba(255,0,0,.25);
    }
  </style>
</head>

<body class="hub-world normal">

  <!-- VIDEO FONDO -->
  <video autoplay muted loop playsinline id="bg">
    <source src="background.mp4" type="video/mp4">
  </video>
  <div class="hub-vignette"></div>

  <!-- GIFs flotantes (solo NORMAL) -->
  <div class="gif-layer" id="gifLayer" aria-hidden="true"></div>

  <!-- MENSAJE UPSIDE -->
  <div class="upside-note" aria-hidden="true">
    <div class="big">02·02·2005 — INDIANA, USA</div>
    DAYS ELAPSED: 7,670<br>
    AGE: 21<br>
    STATUS: OFFICIALLY LEGAL<br>
    SYSTEM: ONLINE<br><br>
    FELIZ VIGÉSIMA-PRIMER VUELTA AL SOL
  </div>

  <!-- AUDIO -->
  <audio id="hubMusic" loop preload="auto">
    <source src="should.mp3" type="audio/mpeg">
  </audio>

  <!-- TOP BAR -->
  <header class="hub-top">
    <a class="hub-back" href="index.html?v=1000" aria-label="Volver">←</a>
    <div class="hub-title">HAWKINS HUB</div>
    <button class="hub-worldbtn" id="worldBtn" type="button">WORLD: NORMAL</button>
  </header>

  <!-- ICONOS -->
  <main class="hub-stage" id="stage">

    <!-- Cluster centrado SOLO NORMAL -->
    <div class="hub-cluster only-normal" aria-hidden="false">
      <a class="hub-icon" href="facts.html?v=2000" data-spark="light" aria-label="Arcade">
        <img src="img/icons/arcade.GIF" alt="Arcade">
        <span>Arcade</span>
      </a>

      <a class="hub-icon" href="edits-hub.html?v=2000" data-spark="ash" aria-label="Archivos">
        <img src="img/icons/archivos.GIF" alt="Archivos">
        <span>Archivos</span>
      </a>
    </div>

    <div class="hub-hint">
      Toca los iconos. Cambia el mundo arriba.<br>
      <b>Easter:</b> toca 7 veces “WORLD”.
    </div>

  </main>

  <script src="hub.js?v=9999"></script>

  <script>
    // =========================
    // 22 GIFs flotantes (solo NORMAL)
    // =========================
    const gifLayer = document.getElementById("gifLayer");

    function rand(a,b){ return a + Math.random()*(b-a); }

    function buildGifs(){
      if(!gifLayer) return;
      gifLayer.innerHTML = "";

      // solo NORMAL
      if(!document.body.classList.contains("normal")) return;

      for(let i=1;i<=22;i++){
        const img = document.createElement("img");
        img.className = "hub-gif";
        img.alt = "hawkins gif " + i;
        img.src = `img/icons/hawkins${i}.GIF`;

        // Distribución: evitamos el centro donde está el cluster (aprox)
        let x = rand(6,94);
        let y = rand(12,92);

        // “zona prohibida” central (para que no tapen Arcade/Archivos)
        const inCenterX = (x > 25 && x < 75);
        const inCenterY = (y > 30 && y < 80);
        if(inCenterX && inCenterY){
          // reubica hacia bordes
          x = (Math.random() < 0.5) ? rand(6,20) : rand(80,94);
          y = rand(18,90);
        }

        // tamaños
        const size = (window.innerWidth < 720)
          ? rand(42, 68) + "px"
          : rand(54, 92) + "px";

        img.style.setProperty("--x", x + "%");
        img.style.setProperty("--y", y + "%");
        img.style.setProperty("--s", size);
        img.style.setProperty("--r", rand(-14,14) + "deg");
        img.style.setProperty("--t", rand(2.6,5.2) + "s");

        gifLayer.appendChild(img);
      }
    }

    // Inicial + resize
    window.addEventListener("load", buildGifs);
    window.addEventListener("resize", buildGifs);

    // Cuando cambias WORLD, hub.js cambia la clase del body.
    // Le damos un pequeño delay y regeneramos.
    const worldBtn = document.getElementById("worldBtn");
    if(worldBtn){
      worldBtn.addEventListener("click", ()=>{
        setTimeout(buildGifs, 80);
      });
    }
  </script>

</body>
</html>
