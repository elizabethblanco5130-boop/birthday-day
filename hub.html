<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Hawkins Hub</title>

  <link href="https://fonts.cdnfonts.com/css/benguiat" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css?v=9999">

  <style>
    /* === capa gifs (no bloquea clicks) === */
    .gif-layer{
      position:fixed; inset:0;
      z-index:6;
      pointer-events:none;
      overflow:hidden;
    }
    .hub-gif{
      position:absolute;
      left: var(--x);
      top: var(--y);
      width: var(--s);
      height:auto;
      opacity:.92;
      transform: translate(-50%,-50%) rotate(var(--r));
      filter: drop-shadow(0 0 12px rgba(255,0,0,.22));
      animation: hubFloat var(--t) ease-in-out infinite;
      will-change: transform;
    }
    @keyframes hubFloat{
      0%,100%{ transform: translate(-50%,-50%) rotate(var(--r)) translateY(0); }
      50%{ transform: translate(-50%,-50%) rotate(var(--r)) translateY(-16px); }
    }

    /* fallback visible si el gif no carga */
    .gif-fallback{
      position:absolute;
      left: var(--x);
      top: var(--y);
      transform: translate(-50%,-50%) rotate(var(--r));
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(0,0,0,.28);
      backdrop-filter:blur(8px);
      box-shadow:
        0 0 0 2px rgba(255,0,0,.06),
        0 0 18px rgba(255,0,0,.10),
        0 0 18px rgba(0,255,255,.06);
      color:rgba(255,255,255,.86);
      font-family:'Press Start 2P', monospace;
      font-size:9px;
      letter-spacing:.06em;
      text-transform:uppercase;
      white-space:nowrap;
      opacity:.92;
      animation: hubFloat var(--t) ease-in-out infinite;
    }

    /* SOLO en NORMAL */
    body.upside .gif-layer,
    body.will   .gif-layer{ display:none !important; }

    /* === iconos grandes + letra Stranger === */
    .hub-icon img{
      width:130px;
      height:130px;
      object-fit:cover;
      border-radius:18px;
      display:block;
      box-shadow:0 0 28px rgba(255,0,0,.22);
    }
    .hub-icon span{
      font-family:'Benguiat', serif !important;
      letter-spacing:.16em;
      text-transform:uppercase;
      font-size:18px;
      margin-top:10px;
      text-shadow:
        0 0 18px rgba(255,0,0,.20),
        2px 0 rgba(0,255,255,.12),
        -2px 0 rgba(255,0,0,.12);
    }
    @media(min-width:900px){
      .hub-icon img{ width:170px; height:170px; }
      .hub-icon span{ font-size:20px; }
    }

    /* SOLO en NORMAL (oculta botones en upside/will) */
    body.upside .only-normal,
    body.will   .only-normal{ display:none !important; }

    /* === arreglo CLAVE: que tu style.css NO empuje los iconos === */
    .hub-stage{ position:relative; }
    .hub-cluster{
      position:fixed;
      left:50%;
      top:52%;
      transform:translate(-50%,-50%);
      width:min(900px, 92vw);
      z-index:15;
      display:flex;
      gap:22px;
      align-items:center;
      justify-content:center;
      pointer-events:none;  /* contenedor no bloquea */
    }
    .hub-cluster .hub-icon{
      pointer-events:auto;
      position:relative !important;
      left:auto !important;
      top:auto !important;
      right:auto !important;
      bottom:auto !important;
      transform:none !important;
    }
    @media (max-width:720px){
      .hub-cluster{
        flex-direction:column;
        top:58%;
        gap:18px;
      }
    }

    /* === mensaje upside === */
    .upside-note{
      position:fixed;
      left:50%;
      top:55%;
      transform:translate(-50%,-50%);
      width:min(560px,90vw);
      z-index:30;
      display:none;
      padding:16px;
      border-radius:18px;
      border:1px solid rgba(255,0,0,.35);
      background:rgba(0,0,0,.38);
      backdrop-filter:blur(10px);
      text-align:center;
      pointer-events:none;
      font-family:'Press Start 2P', monospace;
      font-size:10px;
      letter-spacing:.08em;
      line-height:1.8;
      color:rgba(255,255,255,.88);
      text-transform:uppercase;
      box-shadow:0 0 32px rgba(255,0,0,.18);
    }
    body.upside .upside-note{ display:block; }
    .upside-note .big{
      font-family:'Benguiat', serif;
      font-size:20px;
      letter-spacing:.18em;
      margin-bottom:10px;
      text-shadow:0 0 18px rgba(255,0,0,.25);
    }
  </style>
</head>

<body class="hub-world normal">

  <!-- VIDEO FONDO -->
  <video autoplay muted loop playsinline id="bg">
    <source src="background.mp4" type="video/mp4">
  </video>
  <div class="hub-vignette"></div>

  <!-- GIFs flotantes -->
  <div class="gif-layer" id="gifLayer" aria-hidden="true"></div>

  <!-- MENSAJE UPSIDE -->
  <div class="upside-note" aria-hidden="true">
    <div class="big">02·02·2005 — INDIANA, USA</div>
    DAYS ELAPSED: 7,670<br>
    AGE: 21<br>
    STATUS: OFFICIALLY LEGAL<br>
    SYSTEM: ONLINE<br><br>
    FELIZ VIGÉSIMA-PRIMER VUELTA AL SOL
  </div>

  <!-- AUDIO -->
  <audio id="hubMusic" loop preload="auto">
    <source src="should.mp3" type="audio/mpeg">
  </audio>

  <!-- TOP BAR -->
  <header class="hub-top">
    <a class="hub-back" href="index.html?v=1000" aria-label="Volver">←</a>
    <div class="hub-title">HAWKINS HUB</div>
    <button class="hub-worldbtn" id="worldBtn" type="button">WORLD: NORMAL</button>
  </header>

  <!-- ICONOS -->
  <main class="hub-stage" id="stage">

    <!-- CENTRADOS SOLO NORMAL -->
    <div class="hub-cluster only-normal">
      <a class="hub-icon" href="facts.html?v=2000" data-spark="light" aria-label="Arcade">
        <img src="img/icons/arcade.GIF" alt="Arcade">
        <span>Arcade</span>
      </a>

      <a class="hub-icon" href="edits-hub.html?v=2000" data-spark="ash" aria-label="Archivos">
        <img src="img/icons/archivos.GIF" alt="Archivos">
        <span>Archivos</span>
      </a>
    </div>

    <div class="hub-hint">
      Toca los iconos. Cambia el mundo arriba.<br>
      
    </div>

  </main>

  <script src="hub.js?v=9999"></script>

  <script>
    const gifLayer = document.getElementById("gifLayer");
    const worldBtn = document.getElementById("worldBtn");

    function rand(a,b){ return a + Math.random()*(b-a); }

    function addFallback(name, x, y, r, t){
      const d = document.createElement("div");
      d.className = "gif-fallback";
      d.textContent = name;
      d.style.setProperty("--x", x + "%");
      d.style.setProperty("--y", y + "%");
      d.style.setProperty("--r", r + "deg");
      d.style.setProperty("--t", t + "s");
      gifLayer.appendChild(d);
    }

    function buildGifs(){
      if(!gifLayer) return;
      gifLayer.innerHTML = "";

      // solo NORMAL
      if(!document.body.classList.contains("normal")) return;

      for(let i=1;i<=22;i++){
        // evita el centro (donde están los botones)
        let x = rand(6,94);
        let y = rand(10,92);
        const inCenterX = (x > 28 && x < 72);
        const inCenterY = (y > 30 && y < 82);
        if(inCenterX && inCenterY){
          x = (Math.random() < 0.5) ? rand(6,20) : rand(80,94);
          y = rand(12,90);
        }

        const r = rand(-14,14);
        const t = rand(2.6,5.2);

        const size = (window.innerWidth < 720)
          ? rand(42, 68) + "px"
          : rand(54, 92) + "px";

        const name = `hawkins${i}.GIF`;
        const src  = `img/icons/${name}`;

        const img = document.createElement("img");
        img.className = "hub-gif";
        img.alt = name;
        img.src = src;
        img.style.setProperty("--x", x + "%");
        img.style.setProperty("--y", y + "%");
        img.style.setProperty("--s", size);
        img.style.setProperty("--r", r + "deg");
        img.style.setProperty("--t", t + "s");

        // si falla el gif, mostramos nombre (para que SIEMPRE veas algo)
        img.addEventListener("error", ()=>{
          img.remove();
          addFallback(name, x, y, r, t);
        });

        gifLayer.appendChild(img);
      }
    }

    window.addEventListener("load", buildGifs);
    window.addEventListener("resize", buildGifs);

    if(worldBtn){
      worldBtn.addEventListener("click", ()=> setTimeout(buildGifs, 100));
    }
  </script>

</body>
</html>
